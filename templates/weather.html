<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Information</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    body {
      background-color: #f8f9fa;
    }

    .container {
      margin-top: 50px;
    }

    .weather-card {
      background-color: #ffffff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }

    .modal-body p {
      margin-bottom: 10px;
    }
  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg" style="background-color: rgb(36, 177, 36)">
    <div class="container-fluid">
      <a class="navbar-brand" href="index">AgriConnect</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="index">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Market</a>
          </li><li class="nav-item">
            <a class="nav-link" href="pricing">Pricing</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="weather">weather</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Farming Advice
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="fertilizerCalculator">fertilizer calculator</a></li>
              <li><a class="dropdown-item" href="#">modern farming technique</a></li>
              <li><a class="dropdown-item" href="#">financial Schemes</a></li>
            </ul>
          </li>
          
        </ul>
        <form class="d-flex" role="search">
          <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
      </div>
    </div>
  </nav>
  <section>
     <div class="container">
    <div class="weather-card">
      <h1 class="mb-4">Weather Information</h1>

      <div id="weather-info">
        <!-- Weather information will be displayed here -->
      </div>

      <!-- Modal for Heavy Rain Warning -->
      <div class="modal fade" id="partlycloudymodal" tabindex="-1" role="dialog" aria-labelledby="partlycloudymodalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="partlycloudymodalLabel">यहाँ समाधानहरू छन् जुन किसानहरूले आंशिक बादल मौसममा विचार गर्न सक्छन्ः</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <ol>
                <li><strong>सिँचाइ तालिकाहरू अनुकूलन गर्नुहोस्ः</strong>
                  <p>आंशिक बादलिलो मौसममा, सूर्यको प्रकाशको तीव्रता दिनभरि फरक-फरक हुन सक्छ। बादलको आवरण र अपेक्षित सूर्यको प्रकाशको आधारमा किसानहरूले आफ्नो सिँचाइको समय तालिका समायोजन गर्नुपर्छ। <br>वास्तविक आर्द्रताको स्तर निगरानी गर्न र कम सूर्यको प्रकाशको अवधिमा अत्यधिक पानीबाट बच्न माटोमा आर्द्रता सेन्सरहरू प्रयोग गर्नुहोस्। यसले जलभराव रोक्न र पानीको बर्बादी कम गर्न मद्दत गर्दछ।</p>
                </li>

                <li><strong>फसल संरक्षण उपायहरू कार्यान्वयन गर्नुहोस्ः</strong>
                  <p>आंशिक बादलको अवस्था कहिलेकाहीँ अप्रत्याशित मौसम ढाँचासँग सम्बन्धित हुन सक्छ। मौसममा अचानक परिवर्तन, जस्तै अप्रत्याशित वर्षा वा तापक्रममा उतारचढावका लागि किसानहरू सतर्क हुनुपर्छ। फसल संरक्षण उपायहरू कार्यान्वयन गर्ने विचार गर्नुहोस्, जस्तै संवेदनशील बालीहरूलाई अस्थायी छायांकन सामग्री वा पङ्क्ति आवरणले ढाक्ने। यसले बालीहरूलाई अचानक तापक्रम परिवर्तनबाट जोगाउन र क्षतिको जोखिम कम गर्न मद्दत गर्न सक्छ।</p>
                </li>
              </ol>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </section>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
 
  
  <script>
    const apiKey = '512545a587374ea6bfd102326232712';
    const apiUrl = `http://api.weatherapi.com/v1/current.json?key=${apiKey}&q=kathmandu`;

    const getWeatherInfo = async () => {
      try {
        const response = await fetch(apiUrl);
        const data = await response.json();

        const weatherInfo = document.getElementById('weather-info');
        weatherInfo.innerHTML = `
                <p>City: ${data.location.name}, ${data.location.country}</p>
                <p>Temperature: ${data.current.temp_c} &deg;C</p>
                <p>Weather: ${data.current.condition.text}</p>
            `;

        if (data.current.condition.text.toLowerCase().includes('partly cloudy')) {
          $('#partlycloudymodal').modal('show');
        }
      } catch (error) {
        console.error('Error fetching weather data:', error);
      }
    };

    window.onload = getWeatherInfo;
  </script>

</body>

</html>
